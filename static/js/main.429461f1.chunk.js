(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{106:function(e,t){},124:function(e,t){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(76),r=n.n(c),s=n(23),o=n(2),i=n.n(o),l=n(10),u=n(20),d=n(5),j=n(4),m=n(0),b=n(18),p=n(84),f=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CONTRACT_NAME||"kokumokongz.near";function O(){var e={networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",contractName:f,GAS:"200000000000000",DEFAULT_NEW_ACCOUNT_AMOUNT:"5",contractMethods:{changeMethods:["nft_mint_one","nft_mint_many","create_linkdrop","nft_transfer"],viewMethods:["cost_per_token","discount","token_storage_cost","total_cost","nft_supply_for_owner","nft_total_supply","nft_tokens","nft_tokens_for_owner","tokens_left","cost_of_linkdrop","nft_metadata","get_key_balance","check_key"]}};return e=Object(j.a)(Object(j.a)({},e),{},{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"})}var x=n(21),h=O(),_=h.networkId,g=h.nodeUrl,v=h.walletUrl,k=h.contractName,N=h.contractMethods,y=x.utils.format,w=y.formatNearAmount,C=(y.parseNearAmount,function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.connect({networkId:_,nodeUrl:g,walletUrl:v,deps:{keyStore:new x.keyStores.BrowserLocalStorageKeyStore}});case 2:return t=e.sent,n=new x.WalletAccount(t),e.abrupt("return",{near:t,wallet:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;return new x.Contract(e,k,Object(j.a)(Object(j.a)({},t),{},{sender:e.accountId}))},A=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,c,r,s,o,l,u,m,b,p,f,O,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadContract(k,Object(j.a)({},N));case 2:return n=e.sent,a="aa.near",e.next=6,Promise.all([n.discount({num:10}),n.total_cost({num:10,minter:a}),n.token_storage_cost({}),n.cost_per_token({num:1,minter:a}),n.cost_of_linkdrop({minter:a})]);case 6:return c=e.sent,r=Object(d.a)(c,5),s=r[0],o=r[1],l=r[2],u=r[3],m=r[4],b=w(s),p=w(o),f=w(u),O=w(l),x={oneNFT:f-O,manyNFTS:p-10*O,tokenStorageFormat:O,discountFormat:b,tenTokenCost:o,oneTokenCost:u,costLinkDrop:m},e.abrupt("return",x);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=n(28),T=O(),F=(T.networkId,T.nodeUrl,T.walletUrl,T.GAS),E=T.contractName,P=T.contractMethods,D=x.utils.format,U=D.formatNearAmount,K=(D.parseNearAmount,Object(p.a)(/https:\/\/wallet.near.org\/linkdrop\/(?:(?!\/)[\s\S])+\/(.+)\?redirectUrl=/,{key:1}));function L(e){var t=e.match(K).groups.key;return I.KeyPairEd25519.fromString(t).getPublicKey()}var R=function(e,t){var n,c,r=function(){return n},s=Object(a.createContext)(e),o=s.Provider,i=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(0===a.length)return Object(j.a)(Object(j.a)({},t),n);var c=a.split("."),r=c[0];return(t=Object(j.a)({},t))[r]||(t[r]={}),1===c.length?t[r]=n&&"object"===typeof n&&!Array.isArray(n)?Object(j.a)(Object(j.a)({},t[r]),n):n:t[r]=Object(j.a)(Object(j.a)({},t[r]),e(t[r],n,c.slice(1).join("."))),t},l=function(t){var c=t.children,s=Object(a.useReducer)((function(e,t){var a=t.path,c=t.newState;return void 0===a?e:n=i(e,c,a)}),e),l=Object(d.a)(s,2),u=l[0],j=l[1],b=function(e,t){j({path:e,newState:t})};return Object(m.jsx)(o,{value:{update:b,state:u,dispatch:function e(t){return t({update:b,getState:r,dispatch:e})}},children:c})};return t?(c={},Object(u.a)(c,"".concat(t,"Store"),s),Object(u.a)(c,"".concat(t.substr(0,1).toUpperCase()+t.substr(1),"Provider"),l),c):{store:s,Provider:l}}({app:{soldOut:!0,oneCount:1,manyCount:10,revealMisfits:JSON.parse(localStorage.getItem("revealMisfits"))||{},misfitsArray:[],linkDropArray:[],urlIpfs:"",tokensLeft:void 0,modalOpen:!1},near:{initialized:!1},price:{oneNFT:5,manyNFTS:31.99,tokenStorageFormat:0,discountFormat:0}},"app"),M=R.appStore,B=R.AppProvider,q=n(3),z=function(e){var t=e.path,n=e.exact,a=e.routes;return Object(m.jsx)(q.b,{path:t,exact:n,render:function(t){return Object(m.jsx)(e.component,Object(j.a)(Object(j.a)({},t),{},{routes:a}))}})},W=function(){var e=Object(q.h)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),Object(m.jsx)(m.Fragment,{})},J=function(e){var t=e.routes;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(q.d,{children:[t.map((function(e){return Object(m.jsx)(z,Object(j.a)({},e),e.key)})),Object(m.jsx)(q.a,{to:"/"})]}),Object(m.jsx)(W,{})]})},G=function(){var e=Object(q.g)(),t=Object(a.useContext)(M).state.contract,n=function(){var n=Object(l.a)(i.a.mark((function n(a,c){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.toString(),console.log("transfer"),n.next=4,t.nft_transfer({args:{receiver_id:c,token_id:r},amount:"1"});case 4:e.push("/my-nfts");case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return{nftTransfer:n}},Z={nft:void 0,account:""},H=function(){var e=Object(a.useContext)(M),t=e.update,n=e.state,c=n.account,r=n.app,s=G().nftTransfer,o=Object(a.useState)(Z),i=Object(d.a)(o,2),l=i[0],b=i[1],p=Object(a.useState)(!1),f=Object(d.a)(p,2),O=f[0],x=f[1];Object(a.useEffect)((function(){return document.addEventListener("keydown",h,!1),function(){document.removeEventListener("keydown",h,!1)}}),[]);var h=Object(a.useCallback)((function(e){27===e.keyCode&&t("app.modalOpen",!1)}),[]),_=function(e){var t=e.target,n=t.value;"account"===t.name&&(n=t.value.trim().toLowerCase()),b((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t.name,n))}))};return Object(m.jsx)("div",{className:"modal",children:Object(m.jsxs)("div",{className:"modal__box",children:[O?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal__nft-id",children:["Account ",Object(m.jsx)("span",{className:"modal__nft-id-white",children:"name"})]}),Object(m.jsx)("input",{name:"account",onChange:_,value:l.account,className:"modal__input",placeholder:"Enter account name recipient"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal__nft-id",children:["NFT ",Object(m.jsx)("span",{className:"modal__nft-id-white",children:"ID"})]}),Object(m.jsx)("input",{type:"number",name:"nft",onChange:_,value:l.nft,className:"modal__input",placeholder:"Enter number of nft"})]}),Object(m.jsxs)("div",{className:"modal__controls",children:[Object(m.jsx)("button",{className:"modal__close-btn",type:"button",onClick:function(){return t("app.modalOpen",!1)},children:"Cancel"}),Object(m.jsx)("button",{className:"modal__send-btn",type:"button",onClick:function(){var e=Number(l.nft);if(O){if(l.account===c.accountId||!l.account.includes(".near"))return;s(e,l.account)}else{if(null===l.nft||void 0===l.nft||Number.isNaN(l.nft)||""===l.nft||l.nft>1923||!r.misfitsArray.some((function(t){return t.token_id==e})))return;x(!0)}},children:"OK"})]})]})})},X=function(e){var t=e.className,n=e.signedIn;return Object(m.jsx)("nav",{className:"navigation ".concat(t||""),children:Object(m.jsxs)("ul",{className:"navigation__list",children:[Object(m.jsx)("li",{className:"navigation__list-item",children:Object(m.jsx)(s.b,{to:"/#generate",className:"navigation__link",children:"Home"})}),n&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"navigation__list-item",children:Object(m.jsx)(s.b,{to:"/my-nfts",className:"navigation__link",children:"My NFTs"})}),Object(m.jsx)("li",{className:"navigation__list-item",children:Object(m.jsx)(s.b,{to:"/link-drop",className:"navigation__link",children:"LinkDrop"})})]})]})})};X.defaultProps={className:"",signedIn:!1};var V=X,Y=function(e){var t=e.className;return Object(m.jsxs)("div",{className:"social-links ".concat(t||""),children:[Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{srcSet:"./images/paras-id.png , ./images/paras-id.png"}),Object(m.jsx)("img",{className:"social-links__item",src:"./images/paras-id.png",alt:"paras"})]}),Object(m.jsx)("a",{href:"https://discord.com/invite/kokumokongz",target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)("img",{className:"social-links__item",src:"./images/discord.png",alt:"paras"})}),Object(m.jsx)("a",{href:"https://twitter.com/KokumoKongz",rel:"noopener noreferrer",target:"_blank",children:Object(m.jsx)("img",{className:"social-links__item",src:"./images/twitter.png",alt:"paras"})})]})};Y.defaultProps={className:""};var $=Y,Q=function(e){var t=e.handleClick,n=e.text;return Object(m.jsx)("button",{className:"connect-wallet",type:"button",onClick:t,children:n?Object(m.jsx)("p",{className:"connect-wallet__text connect-wallet__text-name",children:n}):Object(m.jsx)("p",{className:"connect-wallet__text",children:"Connect Wallet"})})},ee=function(){return Object(m.jsxs)("div",{className:"lds-ring",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})},te=function(){var e=Object(a.useContext)(M).state,t=e.wallet,n=e.account;return t?Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)(V,{className:"header__navigation",signedIn:t.signedIn}),Object(m.jsx)($,{className:"header__social"}),(null===n||void 0===n?void 0:n.accountId)?Object(m.jsx)(Q,{text:n.accountId,handleClick:function(){return t.signOut()}}):Object(m.jsx)(Q,{handleClick:function(){return t.signIn()}})]}):Object(m.jsx)(ee,{})},ne=Object(a.memo)(te),ae=function(){var e=(Object(a.useContext)(M).state||{}).wallet;return e?Object(m.jsx)("footer",{className:"footer",children:Object(m.jsxs)("div",{className:"footer__container",children:[Object(m.jsx)(V,{className:"footer__navigation",signedIn:e.signedIn}),Object(m.jsx)($,{className:"footer__social"}),Object(m.jsx)("p",{className:"footer__built",children:"Built on"}),Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{srcSet:"./images/near_logo.png, ./images/near_logo.png"}),Object(m.jsx)("img",{src:"./images/near_logo.png",alt:"near protocol",className:"footer__imgnear"})]}),Object(m.jsx)("p",{className:"footer__text",children:"Kokumo KongZ NFTs are built on top of NEAR Protocol, where minting NFTs cost less than a cent per item."}),Object(m.jsx)("p",{className:"footer__copyright ",children:"\xa9 2022 Kokumo KongZ. All Rights Reserved."})]})}):Object(m.jsx)(m.Fragment,{})},ce=Object(a.memo)(ae),re=function(e){var t=e.children,n=Object(q.h)(),c=n.pathname,r=n.hash,s=Object(q.g)(),o=Object(a.useContext)(M).state.app.modalOpen;return Object(a.useEffect)((function(){r&&(setTimeout((function(){document.querySelector(r).scrollIntoView({behavior:"smooth"})}),100),"#generate-block"!==r&&s.push(c))}),[r]),document.body.style.overflow=o?"hidden":"",Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ne,{}),t,Object(m.jsx)(ce,{}),o&&Object(m.jsx)(H,{})]})},se=function(e){var t=e.className,n=e.text,a=e.onClick;return Object(m.jsx)("button",{type:"button",className:"buy-more-btn ".concat(t||""),onClick:a,children:n})};se.defaultProps={onClick:function(){}};var oe=se,ie=function(e){var t=e.className,n=Object(a.useContext)(M),c=n.state,r=n.update,s=c.account,o=c.app.misfitsArray.length,i=Boolean(s&&o);return Object(m.jsxs)("div",{className:"generate-sold-out ".concat(t||""),children:[Object(m.jsx)("p",{className:"generate-sold-out__text",children:"Sold Out"}),"Buy on Paras",Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{srcSet:"./images/generate-paras-2x.webp 2x, ./images/generate-paras.webp 1x"}),Object(m.jsx)("img",{src:"./images/generate-paras.png",alt:"paras marketplace icon",className:"generate-sold-out__img"})]}),i&&Object(m.jsx)(oe,{text:"Send an NFT",className:"buy__nft",onClick:function(){return r("app.modalOpen",!0)}})]})};ie.defaultProps={className:""};var le=ie,ue=function(e){var t=e.count,n=e.isActive,a=e.onClick,c=e.className,r=t>1?"generate-count-btn__many":"",s=n?"generate-count-btn__active":"";return Object(m.jsx)("button",{type:"button",onClick:a,className:"generate-count-btn ".concat(r," ").concat(s," ").concat(c),children:Object(m.jsx)("p",{children:t})})};ue.defaultProps={count:1,onClick:function(){},className:"",isActive:!1};var de=ue,je=function(){var e=Object(a.useContext)(M).state,t=e.contract,n=e.price,c=function(){var e=Object(l.a)(i.a.mark((function e(){var a,c,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.length>0&&void 0!==r[0]?r[0]:1,c="".concat(window.location.origin,"/my-nfts"),1===a?t.nft_mint_one({args:{},gas:"50000000000000",amount:n.oneTokenCost,callbackUrl:c}):t.nft_mint_many({args:{num:a},gas:"230000000000000",amount:n.tenTokenCost,callbackUrl:c});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{mintNft:c}},me=n(79),be=function(){var e=Object(a.useContext)(M).state,t=e.contract,n=e.account,c=e.app,r=e.price,s=function(e,t,n){return"https://wallet.near.org/linkdrop/".concat(e,"/").concat(t,"?redirectUrl=").concat(n,"/my-nfts")},o=function(){var e=Object(l.a)(i.a.mark((function e(){var a,o,l,u,d,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I.KeyPairEd25519.fromRandom(),o=window.location.origin,l=s(t.contractId,a.secretKey.toString(),o),u=c.linkDropArray,localStorage.setItem("linkDropArray:".concat(n.accountId),JSON.stringify([].concat(Object(b.a)(u),[{link:l,text:"",id:Object(me.generate)(),isUsed:!1}]))),d=r.costLinkDrop,j=a.getPublicKey().toString(),e.prev=7,e.next=10,t.create_linkdrop({args:{public_key:j},gas:F,amount:d,callbackUrl:"".concat(o,"/link-drop")});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(){return e.apply(this,arguments)}}();return{createLinkDrop:o}},pe=function(e){var t=Object(a.useContext)(M).state,n=je().mintNft,c=be().createLinkDrop,r=e?"Generate gift links":"Buy more",s=Object(a.useState)(),o=Object(d.a)(s,2),u=o[0],j=o[1],m=Object(a.useState)(!1),b=Object(d.a)(m,2),p=b[0],f=b[1],O=Object(a.useState)(""),x=Object(d.a)(O,2),h=x[0],_=x[1];Object(a.useEffect)((function(){p&&setTimeout((function(){f(!1)}),3e3)}),[p]);var g=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u?e?c(u):n(u):f(!0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{text:r,count:u,state:t,showMessage:p,setShowMessage:f,showCountAnimation:h,formatPrice:function(e){var t=e.toString().split("").join("");return e.toString().split("").forEach((function(e,n,a){if("."===e){var c=n+2>=a.length?n+2:n+3;t=a.slice(0,c).join("")}})),t},handleClick:g,handleNumberClick:function(e){u!==e&&(j(e),_("generate-block__animation-hide"),setTimeout((function(){return _("generate-block__animation-price")}),0))}}},fe=function(){var e=je().mintNft,t=pe(),n=t.count,a=t.state,c=t.showMessage,r=t.setShowMessage,s=t.showCountAnimation,o=t.formatPrice,i=t.handleNumberClick,l=a.wallet,u=a.price,d=a.app,j=d.tokensLeft>=d.manyCount,b=j?"select ".concat(d.oneCount," or ").concat(d.manyCount," kokumo kongz"):"select ".concat(d.oneCount," misfit");return Object(m.jsxs)("div",{id:"generate-block",className:"generate-block",children:[Object(m.jsx)("div",{className:"generate-block__price ",children:Object(m.jsx)("div",{className:"generate-block__price ",children:Object(m.jsxs)("p",{className:"generate-block__count ",children:[" Tokens left ",d.tokensLeft," "]})})}),Object(m.jsx)(oe,{onClick:function(){if(l.signedIn)n?e(n):r(!0);else{var t="".concat(window.location.origin,"/#generate-block");l.signIn(t)}},text:"Generate",className:"generate-block__button"}),Object(m.jsx)(de,{count:d.oneCount,onClick:function(){return i(d.oneCount)},isActive:n===d.oneCount}),Object(m.jsx)("span",{className:"generate-block__near",children:"\u24c3\xa0"}),Object(m.jsx)("p",{className:"generate-block__count  ".concat(s),children:n===d.manyCount?o(u.manyNFTS):o(u.oneNFT)}),c&&Object(m.jsx)("div",{className:"generate-block__message",style:{transform:"translateX(".concat(j?"0":"30px",")")},children:b})]})},Oe=Object(a.memo)(fe),xe=function(){var e=Object(a.useContext)(M).state,t=e.app.soldOut,n=e.price.oneNFT,c=pe().formatPrice;return Object(m.jsx)("section",{className:"generate",id:"generate",children:Object(m.jsxs)("div",{className:"generate__container",children:[Object(m.jsxs)("div",{className:"generate__information",children:[Object(m.jsx)("h1",{className:"generate__title",children:"Kokumo KongZ"}),Object(m.jsx)("p",{className:"generate__text",children:"Sent to protect the $NEAR protocol"}),Object(m.jsx)("p",{className:"generate__text",children:"Sensing a disturbance in the force, King Kokumo sent 5,000 of his fiercest warriors to the $NEAR ecosystem. Though fragile, and in it is infancy, he speculated that massive potential and parabolic growth awaited his KongZ."}),Object(m.jsxs)("p",{className:"generate__text",children:["NEAR Kokumo Kongz are priced at a flat rate of ",c(n)," ","NEAR."]}),Object(m.jsx)("h2",{className:"generate__text",children:"First Connect Wallet"})]}),Object(m.jsxs)("div",{className:"generate__block",children:[t?Object(m.jsx)(le,{}):Object(m.jsx)(Oe,{}),Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{srcSet:"./images/earth-explosion-square.png 2x, ./images/earth-explosion-square.png 1x"}),Object(m.jsx)("img",{className:"generate__img ".concat(t?"generate__img-sold-out":""),src:"./images/earth-explosion-square.png",alt:"generate kokumo kongz"})]})]})]})})},he=function(){return Object(m.jsx)("div",{className:"home",children:Object(m.jsx)(xe,{})})},_e=n(8),ge=n.p+"static/media/twitter.830c0cc6.svg",ve=n.p+"static/media/linkedin.cbd326bd.svg",ke=n.p+"static/media/instagram.de28769a.svg",Ne=n.p+"static/media/email.e78adde3.svg",ye=n.p+"static/media/facebook.9a0f14fc.svg",we=n.p+"static/media/wechat.b73e171e.svg",Ce=n.p+"static/media/telegram.6f0d4136.svg",Se=n.p+"static/media/discord.10c3485c.svg",Ae=function(e){var t=e.className,n=e.color,a=e.text,c=e.link,r=e.onClick,s="purpure"===n?"share-social-links__purpure":"share-social-links__blue";return Object(m.jsxs)("ul",{className:t,children:[Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://twitter.com/intent/tweet?url=".concat(c,"/&text=").concat(a),target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)(_e.a,{className:s,src:ge})})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(c),target:"_blank",rel:"noopener noreferrer","data-social":"linkedin",children:Object(m.jsx)(_e.a,{className:s,src:ve})})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://www.instagram.com/direct/inbox/",target:"_blank",rel:"noopener noreferrer","data-social":"instagram",onClick:r,children:Object(m.jsx)(_e.a,{className:s,src:ke})})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"mailto:?body=".concat(a,"   ").concat(c),target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)(_e.a,{className:s,src:Ne})})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(c,"&quote=").concat(a),target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)(_e.a,{className:s,src:ye})})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"weixin://",target:"_blank",rel:"noopener noreferrer","data-social":"wechat",onClick:r,children:Object(m.jsx)(_e.a,{className:s,src:we})})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://telegram.me/share/?text=".concat(a,"&url=").concat(c),target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)(_e.a,{className:s,src:Ce})})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://discord.com/channels/@me",target:"_blank",rel:"noopener noreferrer","data-social":"discord",onClick:r,children:Object(m.jsx)(_e.a,{className:s,src:Se})})})]})};Ae.defaultProps={className:"",color:"blue",text:"",link:"",onClick:function(){}};var Ie=Ae,Te=function(e){var t=e.price,n=e.className,a=pe().formatPrice;return Object(m.jsxs)("div",{className:"price",children:[Object(m.jsx)("span",{className:"price__near",children:"\u24c3\xa0"}),Object(m.jsx)("span",{className:"price__count ".concat(n),children:a(t)})]})},Fe=function(e){var t=e.activeCount,n=e.handleNumberClick,a=e.showAnimation,c=e.price,r=e.currentCount;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"buy-more__wrapper",children:Object(m.jsx)(de,{count:r,onClick:function(){return n(r)},isActive:t===r,className:"buy-more__count"})}),Object(m.jsx)(Te,{price:1===r?c.oneNFT:c.manyNFTS,className:" ".concat(t===r?a:"")})]})},Ee=function(e){var t=e.isLinkDrop,n=pe(t),a=n.text,c=n.count,r=n.state,s=n.showMessage,o=n.showCountAnimation,i=n.handleClick,l=n.handleNumberClick,u=r.price,d=r.app,j=d.tokensLeft>=d.manyCount,b=j?"select ".concat(d.oneCount," or ").concat(d.manyCount," kokumo kongz"):"select ".concat(d.oneCount," misfit");return Object(m.jsxs)("div",{className:"buy-more",children:[Object(m.jsxs)("div",{className:"buy-more__top",children:[Object(m.jsx)(oe,{text:a,onClick:i}),s&&Object(m.jsx)("div",{className:"buy-more__message",style:{transform:"translateX(".concat(t||j?"0":"-25px",")")},children:t?"select 1 link drop":b}),t&&Object(m.jsx)("p",{className:"buy-more__top-text",children:"Share a mystery NFT for your friend"})]}),Object(m.jsx)("div",{className:"buy-more__center",children:Object(m.jsx)(Fe,{activeCount:c,handleNumberClick:l,showAnimation:o,price:u,currentCount:d.oneCount})})]})};Ee.defaultProps={isLinkDrop:!1};var Pe=Object(a.memo)(Ee),De=function(e){var t=e.soldOut,n=Object(a.useContext)(M).update;return Object(m.jsx)("div",{className:"buy",children:Object(m.jsx)("div",{className:"buy__data",children:t?Object(m.jsxs)("div",{className:"buy__sold-out-wrapper",children:[Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{srcSet:"./images/generate-background-2x.webp 2x, ./images/generate-background.webp 1x"}),Object(m.jsx)("img",{className:"buy__image",src:"./images/generate-background.png",alt:"sold out background"})]}),Object(m.jsx)(le,{className:"buy__sold-out"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Pe,{}),Object(m.jsx)(Pe,{isLinkDrop:!0}),Object(m.jsx)(oe,{text:"Send an NFT",className:"buy__nft",onClick:function(){return n("app.modalOpen",!0)}})]})})})};De.defaultProps={soldOut:!1};var Ue=De,Ke=function(e){var t=e.soldOut,n=Object(q.h)().pathname;return Object(m.jsx)("div",{className:"no-nfts",children:Object(m.jsxs)("div",{className:"no-nfts__data",children:[Object(m.jsxs)("div",{className:"no-nfts__data-top",children:[Object(m.jsxs)("div",{className:"no-nfts__information",children:[Object(m.jsxs)("p",{className:"no-nfts__title",children:["You don't have any"," ",Object(m.jsx)("span",{className:"no-nfts__text-purpure",children:"/link-drop"===n?"LinkDrops":"NFTs"})," ","yet"]}),Object(m.jsxs)("p",{className:"no-nfts__text",children:["Buy your first ",Object(m.jsx)("span",{className:"no-nfts__text-purpure",children:"NFT"})]}),Object(m.jsx)(Ie,{className:"no-nfts__links",color:"purpure"})]}),Object(m.jsx)("div",{className:"generate__block",children:Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{srcSet:"./images/earth-explosion-square.png 2x, ./images/earth-explosion-square.png 1x"}),Object(m.jsx)("img",{className:"generate__img ".concat(t?"generate__img-sold-out":""),src:"./images/earth-explosion-square.png",alt:"generate kokumo kongz"})]})})]}),t?Object(m.jsx)(le,{className:"no-nfts__sold-out"}):Object(m.jsx)(Ue,{})]})})};Ke.defaultProps={soldOut:!1};var Le=Ke,Re=n.p+"static/media/link-drop-background.7d06707f.svg",Me=function(){return{handleCopy:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}},Be=n.p+"static/media/copy-icon.8eb03ea1.svg",qe=function(e){var t=e.link,n=Me().handleCopy,c=Object(a.useState)(""),r=Object(d.a)(c,2),s=r[0],o=r[1];return Object(m.jsxs)("button",{className:"shareable-link",type:"button",onClick:function(){n(t),setTimeout((function(){return o("shareable-link__animation")}),0),setTimeout((function(){return o("")}),1e3)},children:[Object(m.jsxs)("p",{className:"shareable-link__text",children:[t," "]}),Object(m.jsx)(_e.a,{className:"shareable-link__icon",src:Be}),Object(m.jsx)("p",{className:"shareable-link__copied ".concat(s),children:"copied"})]})};qe.defaultProps={link:"https://genc.win"};var ze=qe,We=function(e){var t=e.text,n=e.onBlur,c=e.index,r=Object(a.useState)(t),s=Object(d.a)(r,2),o=s[0],i=s[1];return Object(m.jsx)("input",{className:"shareable-input","data-index":c,onBlur:n,onChange:function(e){return i(e.target.value)},value:o,placeholder:"Enter text"})};We.defaultProps={text:"",onBlur:function(){},index:void 0};var Je=We,Ge=function(e){var t=e.activeLinkForShare,n=e.index,a=e.onClick;return Object(m.jsx)("button",{type:"button",onClick:function(){return a(n)},className:"shareable-circle ".concat(n===t?"shareable-circle__active":"")})},Ze=function(e){var t=e.linkDropArray,n=Object(a.useState)(""),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(m.jsxs)("a",{href:function(){var e="data:attachment/text,",n=t.map((function(e,t){var n=e.link,a=e.text;return"".concat(t,": ").concat(a?"".concat(a," : "):""," \n").concat(n)})).join("\n\n\n");return e+=encodeURI(n)}(),className:"save-btn",download:"my-link-drops.txt",onClick:function(){setTimeout((function(){return s("save-btn__animation")}),0),setTimeout((function(){return s("")}),1e3)},target:"_blank",children:["Save",Object(m.jsx)("p",{className:"save-btn__saved ".concat(r),children:"saved"})]})};Ze.defaultProps={linkDropArray:[]};var He=Ze,Xe=function(){var e,t,n=Object(q.g)(),c=Object(a.useContext)(M),r=c.state,s=c.update,o=r.app,i=r.account,l=Object(a.useState)(Object(b.a)(o.linkDropArray)),u=Object(d.a)(l,2),p=u[0],f=u[1],O=Object(a.useState)(0),x=Object(d.a)(O,2),h=x[0],_=x[1],g=Me().handleCopy;Object(a.useEffect)((function(){o.linkDropArray.length&&f(Object(b.a)(o.linkDropArray))}),[o.linkDropArray.length]),Object(a.useEffect)((function(){localStorage.undefined_wallet_auth_key||n.push("/")}));var v=function(e){var t=e.target.value,n=+e.target.dataset.index,a=p.map((function(e,a){return n===a?Object(j.a)(Object(j.a)({},e),{},{text:t}):e}));f(a),s("app.linkDropArray",Object(b.a)(a)),localStorage.setItem("linkDropArray:".concat(i.accountId),JSON.stringify(Object(b.a)(a)))},k=function(e){return _(e)};return p.length?Object(m.jsxs)("div",{className:"link-drop",children:[Object(m.jsxs)("div",{className:"link-drop__data-wrapper",id:"share-nft",children:[Object(m.jsx)(_e.a,{src:Re,className:"link-drop__background"}),Object(m.jsxs)("div",{className:"link-drop__data",children:[Object(m.jsxs)("header",{className:"link-drop__header",children:[Object(m.jsx)("span",{className:"link-drop__header-purpure",children:"Share"})," a mystery"," ",Object(m.jsx)("span",{className:"link-drop__header-purpure",children:"NFT"})," with your friend"]}),Object(m.jsxs)("div",{className:"link-drop__center",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("ul",{className:"link-drop__list",children:p.map((function(e,t){return Object(m.jsxs)("li",{className:"link-drop__item",children:[Object(m.jsx)(Ge,{activeLinkForShare:h,onClick:k,index:t}),Object(m.jsxs)("div",{className:"link-drop__inputs",children:[Object(m.jsx)(ze,{link:e.link}),Object(m.jsx)(Je,{text:e.text,index:t,onBlur:v})]})]},e.id)}))}),Object(m.jsx)("div",{className:"link-drop__save",children:Object(m.jsx)(He,{linkDropArray:p})}),Object(m.jsx)(Ie,{color:"blue",className:"link-drop__share-links",text:null===(e=p[h])||void 0===e?void 0:e.text,link:null===(t=p[h])||void 0===t?void 0:t.link,onClick:function(){var e,t,n=null===(e=p[h])||void 0===e?void 0:e.text,a=null===(t=p[h])||void 0===t?void 0:t.link,c="".concat(n,"  ").concat(a);g(c)}})]}),Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{srcSet:"./images/misfits-big-2x.webp 2x, ./images/misfits-big.webp 1x"}),Object(m.jsx)("img",{className:"link-drop__img",src:"/images/misfits-big.png",alt:"big misfits"})]})]})]})]}),Object(m.jsx)(Ue,{soldOut:o.soldOut})]}):Object(m.jsx)(Le,{soldOut:o.soldOut})},Ve=n.p+"static/media/rarity-common.c156c166.svg",Ye=function(e){var t,n=e.className,c=e.item,r=e.urlIpfs,s=e.info,o=Object(a.useRef)();return Object(a.useEffect)((function(){var e,t=(null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.getBoundingClientRect()).right;if(t>window.innerWidth){var n=window.innerWidth;o.current.style.transform="translateX(-".concat(t-n+50,"px)")}})),Object(m.jsxs)("div",{ref:o,className:"nft-item-info  ".concat(n||""),children:[Object(m.jsxs)("div",{className:"nft-item-info__icon-wrapper",children:[Object(m.jsx)("div",{className:"nft-item-info__image-wrapper",children:Object(m.jsx)("img",{className:"nft-item-info__image",src:"".concat(r,"/").concat(c.media),alt:"misfit"})}),Object(m.jsxs)("p",{className:"nft-item-info__number",children:["# ",null===c||void 0===c||null===(t=c.title)||void 0===t?void 0:t.padStart(5,"0")]}),Object(m.jsx)(_e.a,{className:"nft-item-info__rarity",src:c.rarity||Ve})]}),Object(m.jsxs)("div",{className:"nft-item-info__stats",children:[Object(m.jsxs)("p",{className:"nft-item-info__stats",children:["kind : ",(null===s||void 0===s?void 0:s.kind)||"no data"]}),Object(m.jsxs)("p",{className:"nft-item-info__stats",children:["seed : ",(null===s||void 0===s?void 0:s.seed)||"no data"]})]})]})},$e=n.p+"static/media/rarity-rare.355ec026.svg",Qe=n.p+"static/media/rarity-uncommon.df7f70d0.svg",et=n.p+"static/media/rarity-very-rare.681bd7e2.svg",tt=n.p+"static/media/rarity-super-rare.383d07f3.svg",nt=function(e){var t=e.handleClick,n=e.title;return Object(m.jsxs)("div",{className:"reveal__item",onClick:t,children:[Object(m.jsxs)("div",{className:"reveal__top",children:[Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{srcSet:"./images/reveal-2x.webp 2x, ./images/reveal.webp 1x"}),Object(m.jsx)("img",{className:"reveal__image",src:"./images/reveal.png",alt:"reveal"})]}),Object(m.jsxs)("div",{className:"reveal__question-sign",children:["?",Object(m.jsx)("span",{className:"reveal__question-sign-big",children:"?"}),"?"]}),Object(m.jsx)("div",{className:"reveal__text-hover",children:"Reveal"})]}),Object(m.jsxs)("div",{className:"reveal__title",children:[Object(m.jsxs)("span",{children:["# ",n.padStart(5,"0")]}),Object(m.jsx)("div",{className:"reveal__question-grey",children:"?"})]})]})};nt.defaultProps={handleClick:function(){},title:""};var at=nt,ct={Normies:Ve,Skellies:$e,Zombies:Qe,Meerkats:et,Glitches:tt},rt=function(e){var t,n=e.item,c=e.onClick,r=e.isReveal,s=e.urlIpfs,o=Object(a.useState)(r),j=Object(d.a)(o,2),b=j[0],p=j[1],f=Object(a.useState)({}),O=Object(d.a)(f,2),x=O[0],h=O[1];Object(a.useEffect)(Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"/").concat(n.reference));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,h(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[]);return Object(m.jsx)("div",{className:"nft-item",children:b?Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{className:"nft-item__img",src:"".concat(s,"/").concat(n.media),alt:"misfit"}),Object(m.jsxs)("div",{className:"nft-item__footer",children:[Object(m.jsxs)("p",{className:"nft-item__hash",children:["# ",null===n||void 0===n||null===(t=n.title)||void 0===t?void 0:t.padStart(5,"0")]}),Object(m.jsx)(_e.a,{src:ct[null===x||void 0===x?void 0:x.kind]||Ve})]}),Object(m.jsx)(Ye,{className:"nft-item__info",item:n,urlIpfs:s,info:x})]}):Object(m.jsx)(at,{title:null===n||void 0===n?void 0:n.title,handleClick:function(){p(!0),c(Object(u.a)({},n.title,!0))}})})};rt.defaultProps={item:{},onClick:function(){}};var st=rt,ot=function(){var e=Object(a.useContext)(M),t=e.state,n=e.update,c=t.app,r=function(e){var t=Object(j.a)(Object(j.a)({},c.revealMisfits),e);n("app",{revealMisfits:t}),localStorage.setItem("revealMisfits",JSON.stringify(t))};return Object(m.jsx)("div",{className:"nfts-list",children:c.misfitsArray.map((function(e){return Object(m.jsx)(st,{item:e.metadata,isReveal:c.revealMisfits[e.token_id],urlIpfs:c.urlIpfs,onClick:r},e.token_id)}))})},it=n.p+"static/media/nft-background.6e3c48d4.svg",lt=function(){var e=Object(q.g)(),t=Object(a.useContext)(M).state,n=t.app.soldOut,c=t.app.misfitsArray.length;return Object(a.useEffect)((function(){localStorage.undefined_wallet_auth_key||e.push("/")})),c?Object(m.jsxs)("div",{className:"my-nfts",children:[Object(m.jsx)(_e.a,{className:"my-nfts__background",src:it}),Object(m.jsx)("div",{className:"my-nfts__data",children:Object(m.jsx)(ot,{})}),Object(m.jsx)(Ue,{soldOut:n})]}):Object(m.jsx)(Le,{soldOut:n})},ut=[{path:"/",key:"ROOT",exact:!0,component:function(){return Object(m.jsx)(he,{})}},{path:"/my-nfts",key:"MY_NFTS",component:function(){return Object(m.jsx)(lt,{})}},{path:"/link-drop",key:"LINK_DROP",component:function(){return Object(m.jsx)(Xe,{})}}],dt=(n(165),function(){var e=Object(a.useContext)(M).dispatch;return Object(a.useEffect)((function(){e(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,t.dispatch)(function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,c,r,s,o,u,m,p,f,O,h,_,g,v,k,N,y,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.update,a=t.getState,e.prev=1,e.next=4,C();case 4:return c=e.sent,r=c.near,s=c.wallet,e.next=9,A(r);case 9:if(o=e.sent,s.signIn=function(e){s.requestSignIn({successUrl:e,contractId:E})},u=s.signOut,s.signOut=function(){u.call(s),n("wallet.signedIn",!1),n("",{account:null}),localStorage.removeItem("undefined_wallet_auth_key"),s.signedIn=s.isSignedIn(),(new x.keyStores.BrowserLocalStorageKeyStore).clear()},s.signedIn=s.isSignedIn(),!s.signedIn){e.next=44;break}return m=s.account(),p=S(m,P),e.t0=U,e.next=20,s.account().getAccountBalance();case 20:return e.t1=e.sent.available,s.balance=(0,e.t0)(e.t1,2),e.next=24,n("",{wallet:s,account:m,contract:p,price:o,near:r});case 24:return f=JSON.parse(localStorage.getItem("linkDropArray:".concat(m.accountId)))||[],e.next=27,Promise.all([p.tokens_left(),p.nft_total_supply(),p.nft_tokens_for_owner({account_id:m.accountId}),p.nft_metadata()].concat(Object(b.a)(f.map(function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=L(t.link).toString(),e.next=3,p.check_key({public_key:n});case 3:t.isUsed=!e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))));case 27:return O=e.sent,h=Object(d.a)(O,4),_=h[0],g=h[1],v=h[2],k=h[3].base_uri,N=0===_,f=f.filter((function(e){return!e.isUsed})),localStorage.setItem("linkDropArray:".concat(m.accountId),JSON.stringify(Object(b.a)(f))),y=a(),w=Object(j.a)(Object(j.a)({},y.app),{},{misfitsArray:v,urlIpfs:k,linkDropArray:f,soldOut:N,tokensLeft:_}),e.next=40,n("",{app:w});case 40:return console.log("tokens_left:",_),console.log("nft_total_supply",g),console.log("state:",a()),e.abrupt("return");case 44:return e.next=46,n("",{near:r,wallet:s,account:m,price:o});case 46:console.log("state:",a()),e.next=52;break;case 49:e.prev=49,e.t2=e.catch(1),console.log("error:",e.t2);case 52:case"end":return e.stop()}}),e,null,[[1,49]])})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(m.jsx)(re,{children:Object(m.jsx)(J,{routes:ut})})});r.a.render(Object(m.jsx)(B,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(dt,{})})}),document.getElementById("root"))},96:function(e,t){}},[[166,1,2]]]);
//# sourceMappingURL=main.429461f1.chunk.js.map